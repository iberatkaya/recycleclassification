(this.webpackJsonprecycle=this.webpackJsonprecycle||[]).push([[0],{30:function(e,a,t){e.exports=t(55)},35:function(e,a,t){},42:function(e,a){},43:function(e,a){},44:function(e,a){},45:function(e,a){},46:function(e,a){},47:function(e,a){},48:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(16),i=t.n(s),l=(t(35),t(9)),c=t.n(l),o=t(24),m=t(25),d=t(28),u=t(26),p=t(29),g=t(12),f=t(19),h=t(13),b=(t(48),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).getBase64=function(e){return new Promise((function(a,t){var n=new FileReader;n.onload=function(){a(n.result)},n.onerror=t,n.readAsDataURL(e)}))},t.onChange=function(e){var a,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.persist(),a=e.target.files[0],r.next=4,c.a.awrap(t.getBase64(a));case 4:n=r.sent,t.setState({loading:!0,image:n},(function(){var e,a,n,r,s,i,l,o,m,d,u,p,g;return c.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(null!==(e=t.state.model)){f.next=5;break}return f.next=4,c.a.awrap(h.b("https://raw.githubusercontent.com/iberatkaya/recyclemodel/master/model.json"));case 4:e=f.sent;case 5:return a=h.a.fromPixels(t.refs.image,1),f.next=8,c.a.awrap(a.array());case 8:for(n=f.sent,r=[],s=0;s<n.length;s++){for(i=[],l=0;l<n[s].length;l++)o=n[s][l][0]/255,i.push([o]);r.push(i)}return m=h.d(r,[120,120,1],"float32"),d=h.c([m]),a.dispose(),u=e.predict(d),f.next=17,c.a.awrap(u.data());case 17:p=f.sent,g={Cardboard:p[0],Glass:p[1],Metal:p[2],Paper:p[3],Plastic:p[4],Trash:p[5]},t.setState({loading:!1,pred:g,model:e});case 20:case"end":return f.stop()}}))}));case 6:case"end":return r.stop()}}))},t.state={image:"",scanned:!1,model:null,loading:!1,pred:null},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{bg:"info",variant:"dark",expand:"lg"},r.a.createElement(g.a.Brand,{style:{color:"#eee"},href:"/"},"Recycle Classification"),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"ml-auto"},r.a.createElement(f.a.Link,{style:{color:"#eee"},target:"_blank",rel:"noopener noreferrer",href:"https://github.com/iberatkaya"},"GitHub"),r.a.createElement(f.a.Link,{style:{color:"#eee"},target:"_blank",rel:"noopener noreferrer",href:"https://linkedin.com/in/ibrahim-berat-kaya"},"LinkedIn")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h2",{className:"m-3"},"Recycle Classification")))),r.a.createElement("div",null,this.state.loading?r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{alt:"input",ref:"image",style:{width:120,height:120,marginBottom:"2rem"},className:"img-responsive",src:this.state.image})),r.a.createElement("div",{className:"spinner-border text-danger mb-3",role:"status"}),r.a.createElement("div",{className:"lead"},"Scanning...")):r.a.createElement("div",null,""===this.state.image?r.a.createElement("div",{className:"container justify-center align-items-center"},r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:"lead",style:{fontSize:"1.1rem"}},"Upload your image to classify it. Images are clasified with Tensorflow.js using a custom trained model.")),r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Upload")),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{value:this.state.image,onChange:this.onChange,accept:"image/*",type:"file",className:"custom-file-input"}),r.a.createElement("label",{className:"custom-file-label"},"Choose image"))))):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{alt:"input",ref:"image",style:{maxWidth:"60%",marginBottom:"2rem"},className:"img-responsive",src:this.state.image})),r.a.createElement("ul",{className:"list-group mb-4"},r.a.createElement("li",{className:"list-group-item disabled"},"CNN Predictions"),r.a.createElement("li",{className:"list-group-item"},"Cardboard - Probability: ",(100*this.state.pred.Cardboard).toFixed(2),"%"),r.a.createElement("li",{className:"list-group-item"},"Glass - Probability: ",(100*this.state.pred.Glass).toFixed(2),"%"),r.a.createElement("li",{className:"list-group-item"},"Metal - Probability: ",(100*this.state.pred.Metal).toFixed(2),"%"),r.a.createElement("li",{className:"list-group-item"},"Paper - Probability: ",(100*this.state.pred.Paper).toFixed(2),"%"),r.a.createElement("li",{className:"list-group-item"},"Plastic - Probability: ",(100*this.state.pred.Plastic).toFixed(2),"%"),r.a.createElement("li",{className:"list-group-item"},"Trash - Probability: ",(100*this.state.pred.Trash).toFixed(2),"%")),r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({image:"",scanned:!1});case 1:case"end":return a.stop()}}))}},"Classify New Image"))))))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(54);i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.f0ade6d8.chunk.js.map