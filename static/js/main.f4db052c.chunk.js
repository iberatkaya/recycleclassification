(this.webpackJsonprecycle=this.webpackJsonprecycle||[]).push([[0],{30:function(e,a,t){e.exports=t(55)},35:function(e,a,t){},42:function(e,a){},43:function(e,a){},44:function(e,a){},45:function(e,a){},46:function(e,a){},47:function(e,a){},48:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),r=t(16),i=t.n(r),l=(t(35),t(10)),c=t.n(l),o=t(24),m=t(25),d=t(28),u=t(26),p=t(29),g=t(13),f=t(19),b=t(9),h=(t(48),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).getBase64=function(e){return new Promise((function(a,t){var n=new FileReader;n.onload=function(){a(n.result)},n.onerror=t,n.readAsDataURL(e)}))},t.onChange=function(e){var a,n;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.persist(),a=e.target.files[0],s.next=4,c.a.awrap(t.getBase64(a));case 4:n=s.sent,t.setState({loading:!0,image:n});case 6:case"end":return s.stop()}}))},t.state={image:"",scanned:!1,model:null,loading:!1,pred:null},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(g.a,{bg:"info",variant:"dark",expand:"lg"},s.a.createElement(g.a.Brand,{style:{color:"#eee"},href:"/"},"Recycle Classification"),s.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(f.a,{className:"ml-auto"},s.a.createElement(f.a.Link,{style:{color:"#eee"},target:"_blank",rel:"noopener noreferrer",href:"https://github.com/iberatkaya"},"GitHub"),s.a.createElement(f.a.Link,{style:{color:"#eee"},target:"_blank",rel:"noopener noreferrer",href:"https://linkedin.com/in/ibrahim-berat-kaya"},"LinkedIn")))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 text-center"},s.a.createElement("h2",{className:"m-3"},"Recycle Classification")))),s.a.createElement("div",null,this.state.loading?s.a.createElement("div",{className:"container text-center"},s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{alt:"input",ref:"image",style:{width:"40rem",height:"40rem",marginBottom:"2rem",display:"none"},onLoad:function(){var a,t,n,s,r,i,l,o,m,d;return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(null!==(a=e.state.model)){u.next=5;break}return u.next=4,c.a.awrap(b.d("https://raw.githubusercontent.com/iberatkaya/recyclemodel/master/model.json"));case 4:a=u.sent;case 5:return t=b.a.fromPixels(e.refs.image,1),n=b.b(b.c.resizeBilinear(t,[120,120]),"float32"),s=b.e(n),r=b.f(n),i=n.sub(r).div(s.sub(r)),l=b.g([i]),o=a.predict(l),u.next=14,c.a.awrap(o.data());case 14:m=u.sent,d={Cardboard:m[0],Glass:m[1],Metal:m[2],Paper:m[3],Plastic:m[4],Trash:m[5]},t.dispose(),s.dispose(),r.dispose(),n.dispose(),o.dispose(),l.dispose(),e.setState({loading:!1,pred:d,model:a});case 23:case"end":return u.stop()}}))},className:"img-responsive",src:this.state.image})),s.a.createElement("div",{className:"spinner-border text-danger mb-3",role:"status"}),s.a.createElement("div",{className:"lead"},"Scanning...")):s.a.createElement("div",null,""===this.state.image?s.a.createElement("div",{className:"container justify-center align-items-center"},s.a.createElement("div",{className:"text-center"},s.a.createElement("p",{className:"lead",style:{fontSize:"1.1rem"}},"Upload your image to classify it. Images are clasified with Tensorflow.js using a custom trained model.")),s.a.createElement("form",{className:"form"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},"Upload")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{value:this.state.image,onChange:this.onChange,accept:"image/*",type:"file",className:"custom-file-input"}),s.a.createElement("label",{className:"custom-file-label"},"Choose image"))))):s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{alt:"input",ref:"image",style:{maxWidth:"60%",marginBottom:"2rem"},className:"img-responsive",src:this.state.image})),s.a.createElement("ul",{className:"list-group mb-4"},s.a.createElement("li",{className:"list-group-item disabled"},"CNN Predictions"),s.a.createElement("li",{className:"list-group-item"},"Cardboard - Probability: ",(100*this.state.pred.Cardboard).toFixed(2),"%"),s.a.createElement("li",{className:"list-group-item"},"Glass - Probability: ",(100*this.state.pred.Glass).toFixed(2),"%"),s.a.createElement("li",{className:"list-group-item"},"Metal - Probability: ",(100*this.state.pred.Metal).toFixed(2),"%"),s.a.createElement("li",{className:"list-group-item"},"Paper - Probability: ",(100*this.state.pred.Paper).toFixed(2),"%"),s.a.createElement("li",{className:"list-group-item"},"Plastic - Probability: ",(100*this.state.pred.Plastic).toFixed(2),"%"),s.a.createElement("li",{className:"list-group-item"},"Trash - Probability: ",(100*this.state.pred.Trash).toFixed(2),"%")),s.a.createElement("div",{className:"text-center mb-2"},s.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({image:"",scanned:!1});case 1:case"end":return a.stop()}}))}},"Classify New Image"))))))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(54);i.a.render(s.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.f4db052c.chunk.js.map